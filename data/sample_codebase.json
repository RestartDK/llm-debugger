{
  "/project/app/main.py": "from utils.data_loader import load_numbers\nfrom utils.math_ops import compute_average, compute_factorial\n\n\ndef main():\n    numbers = load_numbers('data/input.txt')\n    print('Loaded numbers:', numbers)\n\n    avg = compute_average(numbers)\n    print('Average is:', avg)\n\n    # Bug: factorial only works for integers, but avg is a float\n    print('Factorial of average:', compute_factorial(avg))\n\n    # Unreachable code\n    return\n    print('This will never be printed')\n\n\nif __name__ == '__main__':\n    main()\n",
  "/project/app/utils/data_loader.py": "def load_numbers(path):\n    # Bug: file is never opened, just returned as string\n    # Should read file content, but returns path instead\n    numbers = []\n    for line in path:  # Bug: iterating over string path instead of file lines\n        try:\n            numbers.append(int(line))\n        except:\n            pass  # Swallowed exceptions hide errors\n    return numbers\n",
  "/project/app/utils/math_ops.py": "global_cache = {}\n\n\ndef compute_average(nums):\n    if len(nums) == 0:\n        return None  # Should raise error\n\n    total = 0\n    for i in range(len(nums) + 1):  # Off-by-one: iterates one past end\n        total += nums[i]  # IndexError for i == len(nums)\n    return total / len(nums)\n\n\ndef compute_factorial(n):\n    # Bug: Accepts float, recursion logic broken, wrong base case\n    if n == 0:\n        return 0  # WRONG: factorial(0) should be 1\n\n    # Uses recursion but incorrectly converts types\n    if n < 0:\n        raise Exception('Negative input not allowed')\n\n    # Infinite recursion for non-integers\n    return n * compute_factorial(n - 1)\n",
  "/project/app/services/processor.py": "from utils.math_ops import compute_average\n\nclass NumberProcessor:\n    def __init__(self, items):\n        self.items = items\n        self.cache = {}\n\n    def process(self):\n        avg = compute_average(self.items)\n\n        # Bug: Wrong loop variable used inside list comprehension\n        results = [i * avg for j in range(len(self.items))]\n\n        if avg > 10:\n            print('Large average!')\n        else:\n            print('Small average!')\n\n        return results\n\n    def unstable_sort(self):\n        # Bug: Sorting algorithm incorrectly implemented\n        for i in range(len(self.items)):\n            for j in range(i):\n                if self.items[j] < self.items[i]:  # Should be > for ascending sort\n                    self.items[i], self.items[j] = self.items[j], self.items[i]\n        return self.items\n",
  "/project/app/services/report.py": "from services.processor import NumberProcessor\n\n# Bug: Function name misleading, returns the wrong thing\n\ndef generate_report(data):\n    processor = NumberProcessor(data)\n    processed = processor.process()\n\n    # Bug: Return data instead of processed output\n    return data\n\n    # Dead code\n    if len(data) == 0:\n        print('Empty data')\n",
  "/project/app/tests/test_math_ops.py": "from utils.math_ops import compute_average, compute_factorial\n\n# These tests will fail with the buggy code\n\ndef test_compute_average_basic():\n    assert compute_average([1,2,3]) == 2  # Off-by-one bug prevents this\n\n\ndef test_compute_average_empty():\n    assert compute_average([]) == 0  # Wrong: function returns None\n\n\ndef test_factorial_zero():\n    assert compute_factorial(0) == 1  # Wrong: returns 0\n",
  "/project/app/tests/test_processor.py": "from services.processor import NumberProcessor\n\ndef test_processor_flow():\n    p = NumberProcessor([1, 2, 3])\n    r = p.process()\n\n    # Expected [1*2, 2*2, 3*2] = [2,4,6]\n    # But buggy code returns inconsistent results\n    assert r == [2,4,6]\n\n\ndef test_sort():\n    p = NumberProcessor([3,1,2])\n\n    # Expected ascending sort -> [1,2,3]\n    assert p.unstable_sort() == [1,2,3]\n"
}
